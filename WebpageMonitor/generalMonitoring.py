import psutil

#Responsible for all general system monitoring
class SystemMonitoring:
    def __init__(self):
        chromeCPUData = []
        chromeMemoryData = []

    #Returns a list of tuples containing the processes name and the percentage
    #of cpu it is utilising in the format (name, cpuPercentage)
    def monitorCpuUsage(self, intervalTime):
        self.chromeCPUData = []
        self.chromeCPUData.append("CPU")
        for pro in psutil.process_iter():
            if pro.name() == 'chrome.exe':
                #print(pro.name()+ ": " +str(pro.cpu_percent(interval=1)) + "%")
                temp = (pro.name(), pro.cpu_percent(interval = intervalTime))
                if temp[1] != 0:
                    self.chromeCPUData.append(temp)
        print(self.chromeCPUData)
        return self.chromeCPUData

    #Returns a list of tuples containing process name and the percentage of
    #memory being utilised by chrome processes
    def monitorMemoryUsage(self):
        self.chromeMemoryData = []
        self.chromeMemoryData.append("Mem")
        for pro in psutil.process_iter():
            if pro.name() == 'chrome.exe':
                temp = (pro.name(), pro.memory_percent())
                if temp[1] != 0:
                    self.chromeMemoryData.append(temp)
        print(self.chromeMemoryData)
        return self.chromeMemoryData
