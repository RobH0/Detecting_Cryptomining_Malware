#gui.py
from PyQt5.QtWidgets import *


class GUI:

    def __init__(self, mainProgram):
        self.app = QApplication([])
        self.window = QWidget()
        self.layout = QVBoxLayout()
        self.alertLabel = QLabel("Crypto mining: not detected")
        self.label = None
        self.button = None
        self.mainProg = mainProgram

    def mainGUI(self):
        self.label = QLabel('DetectCryptoMining')
        self.button = QPushButton('Start monitoring')
        self.button.clicked.connect(self.startMonitoring)
        self.layout.addWidget(self.label)
        self.layout.addWidget(self.alertLabel)
        self.layout.addWidget(self.button)
        self.window.setLayout(self.layout)
        self.window.show()
        self.app.exec_()

    def notifyUserOfActivity(self):
        self.alertLabel.setText("Crypto mining: Detected")


    def startMonitoring(self):
        self.mainProg.main()
