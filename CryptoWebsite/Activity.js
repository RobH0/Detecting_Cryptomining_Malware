window.onload = createDropDownList;

function mimicMining(){
  console.log("mimicking mining");
  var selectedDuration = document.getElementById("dropDownList")
  var duration = selectedDuration.value;
  duration++
  console.log("duration:" + duration);
  mySlowFunction(duration);
  alert("Just finished mimicking a mining session. Click start mining again if you would like to start a new session.");
}

function stopMimicking(){
  var notifyHeader = document.getElementById("activityNotification");
  notifyHeader.innerHTML = "Stopped mimicking mining activity";
  console.log("stopped mimicking mining")
}

//This function was originally written by github user sqren.
//The original function can be found at: https://gist.github.com/sqren/5083d73f184acae0c5b7
function mySlowFunction(baseNumber) {
	console.time('mySlowFunction');
	let result = 0;
	for (var i = Math.pow(baseNumber, 7); i >= 0; i--) {
		result += Math.atan(i) * Math.tan(i);
	};
	console.timeEnd('mySlowFunction');
}

function createDropDownList(){
  console.log("createDropDownList")
  var cpuDurationDiv = document.getElementById("cpuDuration");
  var select = document.createElement("select");
  select.setAttribute("id", "dropDownList");
  var i = 1;
  var j = 0
  while (i < 16){
    select.options.add(new Option(i,j));
    i++;
    j++;
  }
  cpuDurationDiv.appendChild(select);
}

//webworkers
const minerWorker = new Worker('miner.js');
